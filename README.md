# 10-minute-arch-linux

Simple instructions for a ~10-minute Arch Linux installation

## Attributions

This guide is based on work by Daniel at Eat, Breathe, Tech. Daniel originally posted a video containing the procedure, but the up-to-date original how-to can be found [https://eatbreathetech.com/t/arch-install-guide/12](on his website).

## Prerequisites

- The target system for installation meets the minimum requirements outlined by Arch Linux.
- If target system is a virtual machine, something akin to Virtualbox's "Enable EFI (special OSes only)" option is enabled.
- Basic knowledge of the Linux command line (Bash).
- This guide assumes that you're capable of downloading Arch and creating a sufficient installation medium.
- This guide assumes that you've booted into the Arch live environment and are ready to begin the installation process
- This guide assumes a wired network connection.

![ready to install arch](https://imgur.com/uebmfEJ)

### Step 0

Confirm that your working in an EFI environment:

`ls /sys/firmware/efi`

You should see a list of directories. If this command returns no output, you're missing EFI compatibility and need to fix that before proceeding.

### Step 1

Confirm network connectivity and internet access:

`ping [some web address or IP address]`

### Step 2 - Disk and Partition Management

List the available disks and note preferred device for installation, e.g. `sda`.

Using `cfdisk`, create and prepare the partitions for installation:

`cfdisk /dev/sda`

Select `gpt`

Create your EFI (300 MB), swap (4 GB) and ext4 (remaining space) partitions and write the changes.

Create filesystems on each of the new partitions:

`mkfs.fat -F32 /dev/sda1`

`mkswap /dev/sda2`

`mkfs.ext4 /dev/sda3`

Enable the swap partition:

`swapon /dev/sda2`

Mount the root disk into the live environment:

`mount /dev/sda3 /mnt`

Now we're ready to begin installation...

### Step 3 - Base Installation

Using the `reflector` program, generate a mirror list for the installation environment:

`pacman -Sy` to sync the package database

Install `reflector` with `pacman -S reflector`

Use `reflector` to get the fastest 5 mirrors for your location:

`reflector --country United\ States --latest 5 --sort rate --save /etc/pacman.d/mirrorlist`

Download the base installation:

`pacstrap /mnt base base-devel mkinitcpio linux`

Generate a filesystem tab configuration:

`genfstab -U -p /mnt > /mnt/etc/fstab`

Remove the default mirror list on the new installation:

`rm /mnt/etc/pacman.d/mirrorlist`

Copy the mirror list generated by `reflector` from the live environment to the new installation:

`cp /etc/pacman.d/mirrorlist /mnt/etc/pacman.d/mirrorlist`

### Step 4 - Configure the New Installation

Change from the live environment into the new installation:

`arch-chroot /mnt`

Set the hostname:

`echo "[yourPreferredHostname]" > /etc/hostname`

Install `nano` text editor:

`pacman -S nano`

Edit the locale.gen file and uncomment the lines for your locale (don't forget to save changes):

`nano /etc/locale.gen`

Generate locales configuration:

`locale-gen`

Set your language for the new installation:

`echo LANG=en_US.UTF-8 > /etc/locale.conf`

`export LANG=en_US.UTF-8`

Set your timezone by symlink:

`rm /etc/localtime`

`ln -s /usr/share/zoneinfo/America/Chicago /etc/localtime`

Set the hardware clock to UTC time:

`hwclock --systohc --utc`

Update all packages:

`pacman -Syu`

Set the root password:

`passwd`

Create a regular user:

`useradd -mg users -G wheel,storage,power -s /bin/bash [yourUserName]`

Set the new regular user's password:

`passwd [yourUserName]`

Install `sudo`:

`pacman -S sudo`

Edit the sudoers file with `nano`:

`EDITOR=nano visudo`

Uncomment the line: `%wheel ALL=(ALL) ALL`

Install bootloader and bootloader tools:

`pacman -S grub efibootmgr dosfstools mtools`

`mkdir /boot/EFI`

`mount /dev/sda1 /boot/EFI`

`grub-install --target=x86_64-efi --bootloader-id=grub_uefi --recheck`

`grub-mkconfig -o /boot/grub/grub.cfg`

### Step 5 - Confirm Network Config

Install the dhcpcd daemon:

`pacman -S dhcpcd`

Enable the dhcpcd service to run at boot:

`systemctl enable dhcpcd`

### Step 6 - Reboot Into Your New System!
